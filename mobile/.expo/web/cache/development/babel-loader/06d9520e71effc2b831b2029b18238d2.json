{"ast":null,"code":"import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getWorkingTimes, getSchedules, getUserClocks, getUserStatus } from \"../../http/api\";\nimport { setCurrentUserStatus } from \"../../stores/reducers/currentUserStatusReducer\";\nimport { setSchedules } from \"../../stores/reducers/schedulesReducer\";\nimport { setWorkingtimes } from \"../../stores/reducers/workingtimesReducer\";\nvar DataLoader = function DataLoader(props) {\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (currentUser) {\n      getSchedules(currentUser.token).then(function (_ref) {\n        var data = _ref.data;\n        dispatch(setSchedules(data));\n      });\n      getWorkingTimes(currentUser.token, currentUser.user.id).then(function (_ref2) {\n        var data = _ref2.data;\n        dispatch(setWorkingtimes(data));\n      });\n      getUserStatus(currentUser.token, currentUser.user.id).then(function (status) {\n        return dispatch(setCurrentUserStatus(status.data ? status.data : \"no data\"));\n      });\n      getUserClocks(currentUser.token, currentUser.user.id).then(function (_ref3) {\n        var data = _ref3.data;\n        return dispatch(setCurrentUserClocks(data));\n      });\n    }\n  }, [currentUser]);\n  return props.children;\n};\nexport default DataLoader;","map":{"version":3,"names":["useEffect","useDispatch","getWorkingTimes","getSchedules","getUserClocks","getUserStatus","setCurrentUserStatus","setSchedules","setWorkingtimes","DataLoader","props","dispatch","currentUser","token","then","data","user","id","status","setCurrentUserClocks","children"],"sources":["/Users/antoine/Documents/EPITECH/time-manager-/mobile/components/DataLoader/index.js"],"sourcesContent":["\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getWorkingTimes, getSchedules, getUserClocks, getUserStatus } from '../../http/api';\nimport { setCurrentUserStatus } from '../../stores/reducers/currentUserStatusReducer';\nimport { setSchedules } from '../../stores/reducers/schedulesReducer';\nimport { setWorkingtimes } from '../../stores/reducers/workingtimesReducer';\n\nconst DataLoader = (props) => {\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (currentUser) {\n            getSchedules(currentUser.token).then(({ data }) => {\n                dispatch(\n                    setSchedules(data)\n                )\n            })\n\n            getWorkingTimes(currentUser.token, currentUser.user.id).then(({ data }) => {\n                dispatch(\n                    setWorkingtimes(data)\n                )\n            })\n\n            getUserStatus(currentUser.token, currentUser.user.id)\n                .then((status) => dispatch(\n                    setCurrentUserStatus(status.data ? status.data : \"no data\")\n                ))\n\n            getUserClocks(currentUser.token, currentUser.user.id)\n                .then(({ data }) =>\n                    dispatch(\n                        setCurrentUserClocks(data)\n                    ))\n        }\n    }, [currentUser]);\n\n\n    return props.children\n}\n\nexport default DataLoader"],"mappings":"AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,eAAe,EAAEC,YAAY,EAAEC,aAAa,EAAEC,aAAa;AACpE,SAASC,oBAAoB;AAC7B,SAASC,YAAY;AACrB,SAASC,eAAe;AAExB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAK,EAAK;EAE1B,IAAMC,QAAQ,GAAGV,WAAW,EAAE;EAE9BD,SAAS,CAAC,YAAM;IACZ,IAAIY,WAAW,EAAE;MACbT,YAAY,CAACS,WAAW,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC,gBAAc;QAAA,IAAXC,IAAI,QAAJA,IAAI;QACxCJ,QAAQ,CACJJ,YAAY,CAACQ,IAAI,CAAC,CACrB;MACL,CAAC,CAAC;MAEFb,eAAe,CAACU,WAAW,CAACC,KAAK,EAAED,WAAW,CAACI,IAAI,CAACC,EAAE,CAAC,CAACH,IAAI,CAAC,iBAAc;QAAA,IAAXC,IAAI,SAAJA,IAAI;QAChEJ,QAAQ,CACJH,eAAe,CAACO,IAAI,CAAC,CACxB;MACL,CAAC,CAAC;MAEFV,aAAa,CAACO,WAAW,CAACC,KAAK,EAAED,WAAW,CAACI,IAAI,CAACC,EAAE,CAAC,CAChDH,IAAI,CAAC,UAACI,MAAM;QAAA,OAAKP,QAAQ,CACtBL,oBAAoB,CAACY,MAAM,CAACH,IAAI,GAAGG,MAAM,CAACH,IAAI,GAAG,SAAS,CAAC,CAC9D;MAAA,EAAC;MAENX,aAAa,CAACQ,WAAW,CAACC,KAAK,EAAED,WAAW,CAACI,IAAI,CAACC,EAAE,CAAC,CAChDH,IAAI,CAAC;QAAA,IAAGC,IAAI,SAAJA,IAAI;QAAA,OACTJ,QAAQ,CACJQ,oBAAoB,CAACJ,IAAI,CAAC,CAC7B;MAAA,EAAC;IACd;EACJ,CAAC,EAAE,CAACH,WAAW,CAAC,CAAC;EAGjB,OAAOF,KAAK,CAACU,QAAQ;AACzB,CAAC;AAED,eAAeX,UAAU"},"metadata":{},"sourceType":"module"}