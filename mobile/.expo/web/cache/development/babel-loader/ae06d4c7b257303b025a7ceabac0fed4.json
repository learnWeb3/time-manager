{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ApplicationLineChart from \"../LineChart/index\";\nimport { useSelector } from 'react-redux';\nimport { getUserPresences } from \"../../http/api\";\nimport { Button, Text } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Dashboard = function Dashboard() {\n  var currentUser = useSelector(function (state) {\n    return state.currentUser.value;\n  });\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    presenceData = _React$useState2[0],\n    setPresenceData = _React$useState2[1];\n  var _React$useState3 = React.useState(\"week\"),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    selectedPeriodicity = _React$useState4[0],\n    setSelectedPeriodicity = _React$useState4[1];\n  React.useEffect(function () {\n    if (currentUser && selectedPeriodicity) {\n      getUserPresences(currentUser.token, currentUser.user.id, selectedPeriodicity).then(function (data) {\n        return setPresenceData(data.data);\n      });\n    }\n  }, [currentUser, selectedPeriodicity]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.filterContainer,\n      children: [_jsx(Button, {\n        textColor: selectedPeriodicity === \"week\" ? \"#FFF\" : \"#001f54\",\n        style: {\n          marginRight: 8,\n          marginBottom: 8,\n          borderRadius: 0,\n          fontSize: 20\n        },\n        mode: selectedPeriodicity === \"week\" ? \"contained\" : \"text\",\n        onPress: function onPress() {\n          return setSelectedPeriodicity(\"week\");\n        },\n        children: \"Week\"\n      }), _jsx(Button, {\n        textColor: selectedPeriodicity === \"month\" ? \"#FFF\" : \"#001f54\",\n        style: {\n          marginRight: 8,\n          marginBottom: 8,\n          borderRadius: 0,\n          fontSize: 20\n        },\n        mode: selectedPeriodicity === \"month\" ? \"contained\" : \"text\",\n        onPress: function onPress() {\n          return setSelectedPeriodicity(\"month\");\n        },\n        children: \"Month\"\n      }), _jsx(Button, {\n        textColor: selectedPeriodicity === \"year\" ? \"#FFF\" : \"#001f54\",\n        style: {\n          marginRight: 8,\n          marginBottom: 8,\n          borderRadius: 0,\n          fontSize: 20\n        },\n        mode: selectedPeriodicity === \"year\" ? \"contained\" : \"text\",\n        onPress: function onPress() {\n          return setSelectedPeriodicity(\"year\");\n        },\n        children: \"Year\"\n      })]\n    }), presenceData ? _jsx(ApplicationLineChart, {\n      legend: ['Presence time'],\n      labels: presenceData.map(function (dataItem) {\n        return dataItem.periodicity;\n      }),\n      datasets: [presenceData.map(function (dataItem) {\n        return dataItem.duration / 3600;\n      })],\n      width: Dimensions.get('window').width\n    }) : _jsx(Text, {})]\n  });\n};\nvar styles = StyleSheet.create({\n  filterContainer: {\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginBottom: 30,\n    flexWrap: 'wrap',\n    shadowColor: '#171717',\n    shadowOffset: {\n      width: -2,\n      height: 4\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    height: 40,\n    justifyContent: \"space-evenly\"\n  },\n  container: {\n    width: \"100%\"\n  }\n});\nexport default Dashboard;","map":{"version":3,"names":["React","ApplicationLineChart","useSelector","getUserPresences","Button","Text","Dashboard","currentUser","state","value","useState","presenceData","setPresenceData","selectedPeriodicity","setSelectedPeriodicity","useEffect","token","user","id","then","data","styles","container","filterContainer","marginRight","marginBottom","borderRadius","fontSize","map","dataItem","periodicity","duration","Dimensions","get","width","StyleSheet","create","alignItems","justifyContent","display","flexDirection","flexWrap","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius"],"sources":["C:/Users/lahce/Desktop/epitech2023/pool/time-manager-/mobile/components/Dashboard/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport { View, StyleSheet, Dimensions } from 'react-native';\r\nimport ApplicationLineChart from '../LineChart/index';\r\nimport { useSelector } from 'react-redux';\r\nimport { getUserPresences } from '../../http/api';\r\nimport { Button, Text } from 'react-native-paper';\r\n\r\nconst Dashboard = () => {\r\n\r\n    const currentUser = useSelector((state) => state.currentUser.value);\r\n    const [presenceData, setPresenceData] = React.useState(null)\r\n    const [selectedPeriodicity, setSelectedPeriodicity] = React.useState(\"week\")\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser && selectedPeriodicity) {\r\n            getUserPresences(currentUser.token, currentUser.user.id, selectedPeriodicity)\r\n                .then((data) => setPresenceData(data.data))\r\n        }\r\n    }, [currentUser, selectedPeriodicity])\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n\r\n            <View style={styles.filterContainer}>\r\n                <Button textColor={selectedPeriodicity === \"week\" ? \"#FFF\" : \"#001f54\"} style={{ marginRight: 8, marginBottom: 8,borderRadius:0,fontSize:20}} mode={selectedPeriodicity === \"week\" ? \"contained\" : \"text\"} onPress={() => setSelectedPeriodicity(\"week\")}>\r\n                    Week\r\n                </Button>\r\n                <Button textColor={selectedPeriodicity === \"month\" ? \"#FFF\" : \"#001f54\"} style={{ marginRight: 8, marginBottom: 8,borderRadius:0, fontSize :20 }} mode={selectedPeriodicity === \"month\" ? \"contained\" : \"text\"} onPress={() => setSelectedPeriodicity(\"month\")}>\r\n                    Month\r\n                </Button>\r\n                <Button textColor={selectedPeriodicity === \"year\" ? \"#FFF\" : \"#001f54\"} style={{marginRight: 8, marginBottom: 8, borderRadius:0,fontSize:20  }} mode={selectedPeriodicity === \"year\" ? \"contained\" : \"text\"} onPress={() => setSelectedPeriodicity(\"year\")}>\r\n                    Year\r\n                </Button>\r\n            </View>\r\n            {presenceData ? <ApplicationLineChart\r\n                legend={['Presence time']}\r\n                labels={presenceData.map((dataItem) => dataItem.periodicity)}\r\n                datasets={[presenceData.map((dataItem) => dataItem.duration / 3600)]}\r\n                width={Dimensions.get('window').width}\r\n            /> : <Text></Text>}\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    filterContainer: {\r\n        width:\"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-start\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        marginBottom: 30,\r\n        flexWrap: 'wrap',\r\n        shadowColor: '#171717',\r\n        shadowOffset: {width: -2, height: 4},\r\n        shadowOpacity: 0.2,\r\n        shadowRadius: 3,\r\n        height:40,\r\n        justifyContent:\"space-evenly\"\r\n    },\r\n    container: {\r\n        width: \"100%\"\r\n    }\r\n})\r\n\r\nexport default Dashboard"],"mappings":"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"},"metadata":{},"sourceType":"module"}