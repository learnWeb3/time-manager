{"ast":null,"code":"import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWorkingTimes, getSchedules, getUserClocks, getUserStatus } from \"../../http/api\";\nimport { setCurrentUserClocks } from \"../../stores/reducers/currentUserClocksReducer\";\nimport { setCurrentUserStatus } from \"../../stores/reducers/currentUserStatusReducer\";\nimport { setSchedules } from \"../../stores/reducers/schedulesReducer\";\nimport { setWorkingtimes } from \"../../stores/reducers/workingtimesReducer\";\nvar DataLoader = function DataLoader(props) {\n  var dispatch = useDispatch();\n  var currentUser = useSelector(function (state) {\n    return state.currentUser.value;\n  });\n  useEffect(function () {\n    if (currentUser) {\n      getSchedules(currentUser.token).then(function (_ref) {\n        var data = _ref.data;\n        dispatch(setSchedules(data));\n      });\n      getWorkingTimes(currentUser.token, currentUser.user.id).then(function (_ref2) {\n        var data = _ref2.data;\n        dispatch(setWorkingtimes(data));\n      });\n      getUserStatus(currentUser.token, currentUser.user.id).then(function (status) {\n        return dispatch(setCurrentUserStatus(status.data ? status.data : \"no data\"));\n      });\n      getUserClocks(currentUser.token, currentUser.user.id).then(function (_ref3) {\n        var data = _ref3.data;\n        return dispatch(setCurrentUserClocks(data));\n      });\n    }\n  }, [currentUser]);\n  return props.children;\n};\nexport default DataLoader;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","getWorkingTimes","getSchedules","getUserClocks","getUserStatus","setCurrentUserClocks","setCurrentUserStatus","setSchedules","setWorkingtimes","DataLoader","props","dispatch","currentUser","state","value","token","then","data","user","id","status","children"],"sources":["/Users/antoine/Documents/EPITECH/time-manager-/mobile/components/DataLoader/index.js"],"sourcesContent":["\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWorkingTimes, getSchedules, getUserClocks, getUserStatus } from '../../http/api';\nimport { setCurrentUserClocks } from '../../stores/reducers/currentUserClocksReducer';\nimport { setCurrentUserStatus } from '../../stores/reducers/currentUserStatusReducer';\nimport { setSchedules } from '../../stores/reducers/schedulesReducer';\nimport { setWorkingtimes } from '../../stores/reducers/workingtimesReducer';\n\nconst DataLoader = (props) => {\n\n    const dispatch = useDispatch();\n\n    const currentUser = useSelector((state) => state.currentUser.value)\n\n    useEffect(() => {\n        if (currentUser) {\n            getSchedules(currentUser.token).then(({ data }) => {\n                dispatch(\n                    setSchedules(data)\n                )\n            })\n\n            getWorkingTimes(currentUser.token, currentUser.user.id).then(({ data }) => {\n                dispatch(\n                    setWorkingtimes(data)\n                )\n            })\n\n            getUserStatus(currentUser.token, currentUser.user.id)\n                .then((status) => dispatch(\n                    setCurrentUserStatus(status.data ? status.data : \"no data\")\n                ))\n\n            getUserClocks(currentUser.token, currentUser.user.id)\n                .then(({ data }) =>\n                    dispatch(\n                        setCurrentUserClocks(data)\n                    ))\n        }\n    }, [currentUser]);\n\n\n    return props.children\n}\n\nexport default DataLoader"],"mappings":"AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,eAAe,EAAEC,YAAY,EAAEC,aAAa,EAAEC,aAAa;AACpE,SAASC,oBAAoB;AAC7B,SAASC,oBAAoB;AAC7B,SAASC,YAAY;AACrB,SAASC,eAAe;AAExB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAK,EAAK;EAE1B,IAAMC,QAAQ,GAAGZ,WAAW,EAAE;EAE9B,IAAMa,WAAW,GAAGZ,WAAW,CAAC,UAACa,KAAK;IAAA,OAAKA,KAAK,CAACD,WAAW,CAACE,KAAK;EAAA,EAAC;EAEnEhB,SAAS,CAAC,YAAM;IACZ,IAAIc,WAAW,EAAE;MACbV,YAAY,CAACU,WAAW,CAACG,KAAK,CAAC,CAACC,IAAI,CAAC,gBAAc;QAAA,IAAXC,IAAI,QAAJA,IAAI;QACxCN,QAAQ,CACJJ,YAAY,CAACU,IAAI,CAAC,CACrB;MACL,CAAC,CAAC;MAEFhB,eAAe,CAACW,WAAW,CAACG,KAAK,EAAEH,WAAW,CAACM,IAAI,CAACC,EAAE,CAAC,CAACH,IAAI,CAAC,iBAAc;QAAA,IAAXC,IAAI,SAAJA,IAAI;QAChEN,QAAQ,CACJH,eAAe,CAACS,IAAI,CAAC,CACxB;MACL,CAAC,CAAC;MAEFb,aAAa,CAACQ,WAAW,CAACG,KAAK,EAAEH,WAAW,CAACM,IAAI,CAACC,EAAE,CAAC,CAChDH,IAAI,CAAC,UAACI,MAAM;QAAA,OAAKT,QAAQ,CACtBL,oBAAoB,CAACc,MAAM,CAACH,IAAI,GAAGG,MAAM,CAACH,IAAI,GAAG,SAAS,CAAC,CAC9D;MAAA,EAAC;MAENd,aAAa,CAACS,WAAW,CAACG,KAAK,EAAEH,WAAW,CAACM,IAAI,CAACC,EAAE,CAAC,CAChDH,IAAI,CAAC;QAAA,IAAGC,IAAI,SAAJA,IAAI;QAAA,OACTN,QAAQ,CACJN,oBAAoB,CAACY,IAAI,CAAC,CAC7B;MAAA,EAAC;IACd;EACJ,CAAC,EAAE,CAACL,WAAW,CAAC,CAAC;EAGjB,OAAOF,KAAK,CAACW,QAAQ;AACzB,CAAC;AAED,eAAeZ,UAAU"},"metadata":{},"sourceType":"module"}