{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport { getUserClocks } from \"../../http/api\";\nimport ClockInOutListItem from \"../ClockInOutListItem\";\nimport { useSelector } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar formatTimeToDate = function formatTimeToDate(time) {\n  var date = new Date(time * 1000);\n  return date.getMonth() + 1 + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \" at \" + date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n};\nvar Dashboard = function Dashboard() {\n  var currentUser = useSelector(function (state) {\n    return state.currentUser.value;\n  });\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    clocks = _React$useState2[0],\n    setClocks = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    selectedFilter = _React$useState4[0],\n    setSelectedFilter = _React$useState4[1];\n  React.useEffect(function () {\n    if (currentUser) {\n      getUserClocks(currentUser.token, currentUser.user.id).then(function (userClocks) {\n        return setClocks(userClocks.data);\n      });\n    }\n  }, [currentUser]);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: styles.filterContainer,\n      children: [_jsx(Button, {\n        mode: \"outlined\",\n        onPress: function onPress() {\n          return console.log('Pressed');\n        },\n        children: \"arrival\"\n      }), _jsx(Button, {\n        mode: \"outlined\",\n        onPress: function onPress() {\n          return console.log('Pressed');\n        },\n        children: \"departure\"\n      })]\n    }), _jsx(View, {\n      children: clocks.filter(function (clock) {\n        return clock.status === selectedFilter;\n      }).map(function (clock) {\n        return _jsx(ClockInOutListItem, {\n          title: formatTimeToDate(clock.time)\n        });\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  filterContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nexport default Dashboard;","map":{"version":3,"names":["React","getUserClocks","ClockInOutListItem","useSelector","formatTimeToDate","time","date","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","Dashboard","currentUser","state","value","useState","clocks","setClocks","selectedFilter","setSelectedFilter","useEffect","token","user","id","then","userClocks","data","styles","filterContainer","console","log","filter","clock","status","map","StyleSheet","create","alignItems","justifyContent"],"sources":["/Users/antoine/Documents/EPITECH/time-manager-/mobile/components/Dashboard/index.js"],"sourcesContent":["import * as React from 'react';\nimport { View } from 'react-native-web';\nimport { getUserClocks } from '../../http/api';\nimport ClockInOutListItem from '../ClockInOutListItem';\nimport { useSelector } from 'react-redux';\n\nconst formatTimeToDate = (time) => {\n    const date = new Date(time * 1000);\n    return `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()} at ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n}\n\n\nconst Dashboard = () => {\n\n    const currentUser = useSelector((state) => state.currentUser.value)\n    const [clocks, setClocks] = React.useState([])\n    const [selectedFilter, setSelectedFilter] = React.useState(true)\n\n    React.useEffect(() => {\n        if (currentUser) {\n            getUserClocks(currentUser.token, currentUser.user.id).then((userClocks) => setClocks(userClocks.data))\n        }\n    }, [currentUser])\n\n    return (\n        <>\n            <View style={styles.filterContainer}>\n\n                <Button mode=\"outlined\" onPress={() => console.log('Pressed')}>\n                    arrival\n                </Button>\n                <Button mode=\"outlined\" onPress={() => console.log('Pressed')}>\n                    departure\n                </Button>\n            </View>\n\n            <View>\n                {\n                    clocks.filter((clock) => clock.status === selectedFilter).map((clock) => <ClockInOutListItem title={formatTimeToDate(clock.time)} />)\n                }\n            </View>\n        </>\n\n    )\n}\n\nconst styles = StyleSheet.create({\n    filterContainer: {\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n})\n\nexport default Dashboard"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAC;AAE/B,SAASC,aAAa;AACtB,OAAOC,kBAAkB;AACzB,SAASC,WAAW,QAAQ,aAAa;AAAC;AAAA;AAAA;AAE1C,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,IAAI,EAAK;EAC/B,IAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,IAAI,GAAG,IAAI,CAAC;EAClC,OAAUC,IAAI,CAACE,QAAQ,EAAE,GAAG,CAAC,SAAIF,IAAI,CAACG,OAAO,EAAE,SAAIH,IAAI,CAACI,WAAW,EAAE,YAAOJ,IAAI,CAACK,QAAQ,EAAE,SAAIL,IAAI,CAACM,UAAU,EAAE,SAAIN,IAAI,CAACO,UAAU,EAAE;AACzI,CAAC;AAGD,IAAMC,SAAS,GAAG,SAAZA,SAAS,GAAS;EAEpB,IAAMC,WAAW,GAAGZ,WAAW,CAAC,UAACa,KAAK;IAAA,OAAKA,KAAK,CAACD,WAAW,CAACE,KAAK;EAAA,EAAC;EACnE,sBAA4BjB,KAAK,CAACkB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAvCC,MAAM;IAAEC,SAAS;EACxB,uBAA4CpB,KAAK,CAACkB,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAzDG,cAAc;IAAEC,iBAAiB;EAExCtB,KAAK,CAACuB,SAAS,CAAC,YAAM;IAClB,IAAIR,WAAW,EAAE;MACbd,aAAa,CAACc,WAAW,CAACS,KAAK,EAAET,WAAW,CAACU,IAAI,CAACC,EAAE,CAAC,CAACC,IAAI,CAAC,UAACC,UAAU;QAAA,OAAKR,SAAS,CAACQ,UAAU,CAACC,IAAI,CAAC;MAAA,EAAC;IAC1G;EACJ,CAAC,EAAE,CAACd,WAAW,CAAC,CAAC;EAEjB,OACI;IAAA,WACI,MAAC,IAAI;MAAC,KAAK,EAAEe,MAAM,CAACC,eAAgB;MAAA,WAEhC,KAAC,MAAM;QAAC,IAAI,EAAC,UAAU;QAAC,OAAO,EAAE;UAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QAAA,CAAC;QAAA;MAAA,EAErD,EACT,KAAC,MAAM;QAAC,IAAI,EAAC,UAAU;QAAC,OAAO,EAAE;UAAA,OAAMD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QAAA,CAAC;QAAA;MAAA,EAErD;IAAA,EACN,EAEP,KAAC,IAAI;MAAA,UAEGd,MAAM,CAACe,MAAM,CAAC,UAACC,KAAK;QAAA,OAAKA,KAAK,CAACC,MAAM,KAAKf,cAAc;MAAA,EAAC,CAACgB,GAAG,CAAC,UAACF,KAAK;QAAA,OAAK,KAAC,kBAAkB;UAAC,KAAK,EAAE/B,gBAAgB,CAAC+B,KAAK,CAAC9B,IAAI;QAAE,EAAG;MAAA;IAAC,EAEtI;EAAA,EACR;AAGX,CAAC;AAED,IAAMyB,MAAM,GAAGQ,UAAU,CAACC,MAAM,CAAC;EAC7BR,eAAe,EAAE;IACbS,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEF,eAAe3B,SAAS"},"metadata":{},"sourceType":"module"}