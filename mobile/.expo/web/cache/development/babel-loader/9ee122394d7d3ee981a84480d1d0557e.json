{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setCurrentUser } from \"../../stores/reducers/currentUserReducer\";\nimport { env } from \"../../env/index\";\nimport { LocalStorage } from \"../../localstorage/index\";\nvar AuthLoader = function AuthLoader() {\n  var dispatch = useDispatch();\n  var setCurrentUserFromLocalStorage = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var value = yield LocalStorage.getData(env.LOCAL_STORAGE_CURRENT_USER_KEY);\n        return value;\n      } catch (error) {\n        console.error(\"error retrieving data from localstorage\");\n      }\n    });\n    return function setCurrentUserFromLocalStorage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  React.useEffect(function () {\n    setCurrentUserFromLocalStorage().then(function (value) {\n      return dispatch(setCurrentUser(value ? JSON.parse(value) : value));\n    });\n  });\n};\nexport default AuthLoader;","map":{"version":3,"names":["React","useDispatch","setCurrentUser","env","LocalStorage","AuthLoader","dispatch","setCurrentUserFromLocalStorage","value","getData","LOCAL_STORAGE_CURRENT_USER_KEY","error","console","useEffect","then","JSON","parse"],"sources":["/Users/antoine/Documents/EPITECH/time-manager-/mobile/components/AuthLoader/index.js"],"sourcesContent":["import * as React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setCurrentUser } from '../../stores/reducers/currentUserReducer';\nimport { env } from '../../env/index';\nimport { LocalStorage } from '../../localstorage/index';\n\nconst AuthLoader = () => {\n\n    const dispatch = useDispatch()\n    const setCurrentUserFromLocalStorage = async () => {\n        try {\n            const value = await LocalStorage.getData(env.LOCAL_STORAGE_CURRENT_USER_KEY);\n            return value\n        } catch (error) {\n            console.error(`error retrieving data from localstorage`)\n        }\n    }\n\n    React.useEffect(() => {\n        setCurrentUserFromLocalStorage().then(\n            (value) => dispatch(\n                setCurrentUser(\n                    value ? JSON.parse(value) : value\n                )\n            )\n        )\n    })\n\n}\n\nexport default AuthLoader"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,cAAc;AACvB,SAASC,GAAG;AACZ,SAASC,YAAY;AAErB,IAAMC,UAAU,GAAG,SAAbA,UAAU,GAAS;EAErB,IAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,IAAMM,8BAA8B;IAAA,6BAAG,aAAY;MAC/C,IAAI;QACA,IAAMC,KAAK,SAASJ,YAAY,CAACK,OAAO,CAACN,GAAG,CAACO,8BAA8B,CAAC;QAC5E,OAAOF,KAAK;MAChB,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,2CAA2C;MAC5D;IACJ,CAAC;IAAA,gBAPKJ,8BAA8B;MAAA;IAAA;EAAA,GAOnC;EAEDP,KAAK,CAACa,SAAS,CAAC,YAAM;IAClBN,8BAA8B,EAAE,CAACO,IAAI,CACjC,UAACN,KAAK;MAAA,OAAKF,QAAQ,CACfJ,cAAc,CACVM,KAAK,GAAGO,IAAI,CAACC,KAAK,CAACR,KAAK,CAAC,GAAGA,KAAK,CACpC,CACJ;IAAA,EACJ;EACL,CAAC,CAAC;AAEN,CAAC;AAED,eAAeH,UAAU"},"metadata":{},"sourceType":"module"}