{"version":3,"names":["createElement","cE","ucE","hasTouchableProperty","props","onPress","onPressIn","onPressOut","onLongPress","camelCaseToDashed","camelCase","replace","m","toLowerCase","stringifyTransformProps","transformProps","transformArray","translate","push","translateX","translateY","scale","scaleX","scaleY","rotation","skewX","skewY","parseTransformProp","transform","Array","isArray","join","stringifiedProps","transformsArrayToProps","length","undefined","prepare","self","origin","originX","originY","fontFamily","fontSize","fontWeight","fontStyle","style","forwardedRef","gradientTransform","patternTransform","rest","clean","onStartShouldSetResponder","touchableHandleStartShouldSetResponder","onResponderTerminationRequest","touchableHandleResponderTerminationRequest","onResponderGrant","touchableHandleResponderGrant","onResponderMove","touchableHandleResponderMove","onResponderRelease","touchableHandleResponderRelease","onResponderTerminate","touchableHandleResponderTerminate","toString","ref","el","elementRef","current","styles","resolve","getBoundingClientRect","node","isElement","nodeType","measureLayout","callback","relativeNode","parentNode","setTimeout","relativeRect","height","left","top","width","x","y","remeasure","tag","state","touchable","responderID","_handleQueryLayout","WebShape","context","React","createRef","SvgTouchableMixin","_remeasureMetricsOnActivation","bind","merged","lastMergedProps","prepareProps","Object","keys","cleanAttribute","cleanValue","concat","partialStyle","setAttribute","Error","Component","Circle","ClipPath","Defs","Ellipse","G","Image","Line","LinearGradient","Path","Polygon","Polyline","RadialGradient","Rect","Stop","Svg","Symbol","Text","TSpan","TextPath","Use","Mask","ForeignObject","Marker","Pattern"],"sources":["ReactNativeSVG.web.ts"],"sourcesContent":["import * as React from 'react';\nimport {\n  GestureResponderEvent,\n  // @ts-ignore\n  unstable_createElement as ucE,\n  createElement as cE,\n  TransformsStyle,\n} from 'react-native';\nimport { NumberArray, NumberProp, TransformProps } from './lib/extract/types';\nimport SvgTouchableMixin from './lib/SvgTouchableMixin';\nimport { resolve } from './lib/resolve';\nimport { transformsArrayToProps } from './lib/extract/extractTransform';\n\nconst createElement = cE || ucE;\n\ntype BlurEvent = Object;\ntype FocusEvent = Object;\ntype PressEvent = Object;\ntype LayoutEvent = Object;\ntype EdgeInsetsProp = Object;\n\ninterface BaseProps {\n  accessible?: boolean;\n  accessibilityLabel?: string;\n  accessibilityHint?: string;\n  accessibilityIgnoresInvertColors?: boolean;\n  accessibilityRole?: string;\n  accessibilityState?: Object;\n  delayLongPress?: number;\n  delayPressIn?: number;\n  delayPressOut?: number;\n  disabled?: boolean;\n  hitSlop?: EdgeInsetsProp;\n  nativeID?: string;\n  touchSoundDisabled?: boolean;\n  onBlur?: (e: BlurEvent) => void;\n  onFocus?: (e: FocusEvent) => void;\n  onLayout?: (event: LayoutEvent) => object;\n  onLongPress?: (event: PressEvent) => object;\n  onClick?: (event: PressEvent) => object;\n  onPress?: (event: PressEvent) => object;\n  onPressIn?: (event: PressEvent) => object;\n  onPressOut?: (event: PressEvent) => object;\n  pressRetentionOffset?: EdgeInsetsProp;\n  rejectResponderTermination?: boolean;\n\n  transform?: TransformProps['transform'];\n  translate?: NumberArray;\n  translateX?: NumberProp;\n  translateY?: NumberProp;\n  scale?: NumberArray;\n  scaleX?: NumberProp;\n  scaleY?: NumberProp;\n  rotation?: NumberProp;\n  skewX?: NumberProp;\n  skewY?: NumberProp;\n  origin?: NumberArray;\n  originX?: NumberProp;\n  originY?: NumberProp;\n\n  fontStyle?: string;\n  fontWeight?: NumberProp;\n  fontSize?: NumberProp;\n  fontFamily?: string;\n  forwardedRef?:\n    | React.RefCallback<SVGElement>\n    | React.MutableRefObject<SVGElement | null>;\n  style: Iterable<{}>;\n\n  // different tranform props\n  gradientTransform: TransformProps['transform'];\n  patternTransform: TransformProps['transform'];\n}\n\nconst hasTouchableProperty = (props: BaseProps) =>\n  props.onPress || props.onPressIn || props.onPressOut || props.onLongPress;\n\nconst camelCaseToDashed = (camelCase: string) => {\n  return camelCase.replace(/[A-Z]/g, (m) => '-' + m.toLowerCase());\n};\n\nfunction stringifyTransformProps(transformProps: TransformProps) {\n  const transformArray = [];\n  if (transformProps.translate != null) {\n    transformArray.push(`translate(${transformProps.translate})`);\n  }\n  if (transformProps.translateX != null || transformProps.translateY != null) {\n    transformArray.push(\n      `translate(${transformProps.translateX || 0}, ${\n        transformProps.translateY || 0\n      })`,\n    );\n  }\n  if (transformProps.scale != null) {\n    transformArray.push(`scale(${transformProps.scale})`);\n  }\n  if (transformProps.scaleX != null || transformProps.scaleY != null) {\n    transformArray.push(\n      `scale(${transformProps.scaleX || 1}, ${transformProps.scaleY || 1})`,\n    );\n  }\n  // rotation maps to rotate, not to collide with the text rotate attribute (which acts per glyph rather than block)\n  if (transformProps.rotation != null) {\n    transformArray.push(`rotate(${transformProps.rotation})`);\n  }\n  if (transformProps.skewX != null) {\n    transformArray.push(`skewX(${transformProps.skewX})`);\n  }\n  if (transformProps.skewY != null) {\n    transformArray.push(`skewY(${transformProps.skewY})`);\n  }\n  return transformArray;\n}\n\nfunction parseTransformProp(\n  transform: TransformProps['transform'],\n  props?: BaseProps,\n) {\n  const transformArray: string[] = [];\n\n  props && transformArray.push(...stringifyTransformProps(props));\n\n  if (Array.isArray(transform)) {\n    if (typeof transform[0] === 'number') {\n      transformArray.push(`matrix(${transform.join(' ')})`);\n    } else {\n      const stringifiedProps = transformsArrayToProps(\n        transform as TransformsStyle['transform'],\n      );\n      transformArray.push(...stringifyTransformProps(stringifiedProps));\n    }\n  } else if (typeof transform === 'string') {\n    transformArray.push(transform);\n  }\n\n  return transformArray.length ? transformArray.join(' ') : undefined;\n}\n\n/**\n * `react-native-svg` supports additional props that aren't defined in the spec.\n * This function replaces them in a spec conforming manner.\n *\n * @param {WebShape} self Instance given to us.\n * @param {Object?} props Optional overridden props given to us.\n * @returns {Object} Cleaned props object.\n * @private\n */\nconst prepare = <T extends BaseProps>(\n  self: WebShape<T>,\n  props = self.props,\n) => {\n  const {\n    transform,\n    origin,\n    originX,\n    originY,\n    fontFamily,\n    fontSize,\n    fontWeight,\n    fontStyle,\n    style,\n    forwardedRef,\n    gradientTransform,\n    patternTransform,\n    ...rest\n  } = props;\n\n  const clean: {\n    onStartShouldSetResponder?: (e: GestureResponderEvent) => boolean;\n    onResponderMove?: (e: GestureResponderEvent) => void;\n    onResponderGrant?: (e: GestureResponderEvent) => void;\n    onResponderRelease?: (e: GestureResponderEvent) => void;\n    onResponderTerminate?: (e: GestureResponderEvent) => void;\n    onResponderTerminationRequest?: (e: GestureResponderEvent) => boolean;\n    transform?: string;\n    gradientTransform?: string;\n    patternTransform?: string;\n    'transform-origin'?: string;\n    style?: {};\n    ref?: {};\n  } = {\n    ...(hasTouchableProperty(props)\n      ? {\n          onStartShouldSetResponder:\n            self.touchableHandleStartShouldSetResponder,\n          onResponderTerminationRequest:\n            self.touchableHandleResponderTerminationRequest,\n          onResponderGrant: self.touchableHandleResponderGrant,\n          onResponderMove: self.touchableHandleResponderMove,\n          onResponderRelease: self.touchableHandleResponderRelease,\n          onResponderTerminate: self.touchableHandleResponderTerminate,\n        }\n      : null),\n    ...rest,\n  };\n\n  if (origin != null) {\n    clean['transform-origin'] = origin.toString().replace(',', ' ');\n  } else if (originX != null || originY != null) {\n    clean['transform-origin'] = `${originX || 0} ${originY || 0}`;\n  }\n\n  clean.transform = parseTransformProp(transform, props);\n  clean.gradientTransform = parseTransformProp(gradientTransform);\n  clean.patternTransform = parseTransformProp(patternTransform);\n\n  clean.ref = (el: SVGElement | null) => {\n    self.elementRef.current = el;\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(el);\n    } else if (forwardedRef) {\n      forwardedRef.current = el;\n    }\n  };\n\n  const styles: {\n    fontStyle?: string;\n    fontFamily?: string;\n    fontSize?: NumberProp;\n    fontWeight?: NumberProp;\n  } = {};\n\n  if (fontFamily != null) {\n    styles.fontFamily = fontFamily;\n  }\n  if (fontSize != null) {\n    styles.fontSize = fontSize;\n  }\n  if (fontWeight != null) {\n    styles.fontWeight = fontWeight;\n  }\n  if (fontStyle != null) {\n    styles.fontStyle = fontStyle;\n  }\n  clean.style = resolve(style, styles);\n\n  return clean;\n};\n\nconst getBoundingClientRect = (node: SVGElement) => {\n  if (node) {\n    // @ts-ignore\n    const isElement = node.nodeType === 1; /* Node.ELEMENT_NODE */\n    // @ts-ignore\n    if (isElement && typeof node.getBoundingClientRect === 'function') {\n      // @ts-ignore\n      return node.getBoundingClientRect();\n    }\n  }\n};\n\nconst measureLayout = (\n  node: SVGElement,\n  callback: (\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    left: number,\n    top: number,\n  ) => void,\n) => {\n  // @ts-ignore\n  const relativeNode = node && node.parentNode;\n  if (relativeNode) {\n    setTimeout(() => {\n      // @ts-ignore\n      const relativeRect = getBoundingClientRect(relativeNode);\n      const { height, left, top, width } = getBoundingClientRect(node);\n      const x = left - relativeRect.left;\n      const y = top - relativeRect.top;\n      callback(x, y, width, height, left, top);\n    }, 0);\n  }\n};\n\nfunction remeasure() {\n  // @ts-ignore\n  const tag = this.state.touchable.responderID;\n  if (tag == null) {\n    return;\n  }\n  // @ts-ignore\n  measureLayout(tag, this._handleQueryLayout);\n}\n\nexport class WebShape<\n  P extends BaseProps = BaseProps,\n  C = {},\n> extends React.Component<P, C> {\n  [x: string]: unknown;\n  protected tag?: React.ElementType;\n  protected prepareProps(props: P) {\n    return props;\n  }\n\n  elementRef =\n    React.createRef<SVGElement>() as React.MutableRefObject<SVGElement | null>;\n  lastMergedProps: Partial<P> = {};\n\n  /**\n   * disclaimer: I am not sure why the props are wrapped in a `style` attribute here, but that's how reanimated calls it\n   */\n  setNativeProps(props: { style: P }) {\n    const merged = Object.assign(\n      {},\n      this.props,\n      this.lastMergedProps,\n      props.style,\n    );\n    this.lastMergedProps = merged;\n    const clean = prepare(this, this.prepareProps(merged));\n    const current = this.elementRef.current;\n    if (current) {\n      for (const cleanAttribute of Object.keys(clean)) {\n        const cleanValue = clean[cleanAttribute as keyof typeof clean];\n        switch (cleanAttribute) {\n          case 'ref':\n          case 'children':\n            break;\n          case 'style':\n            // style can be an object here or an array, so we convert it to an array and assign each element\n            for (const partialStyle of ([] as {}[]).concat(clean.style ?? [])) {\n              // @ts-expect-error \"DOM\" is not part of `compilerOptions.lib`\n              Object.assign(current.style, partialStyle);\n            }\n            break;\n          default:\n            // apply all other incoming prop updates as attributes on the node\n            // same logic as in https://github.com/software-mansion/react-native-reanimated/blob/d04720c82f5941532991b235787285d36d717247/src/reanimated2/js-reanimated/index.ts#L38-L39\n            // @ts-expect-error \"DOM\" is not part of `compilerOptions.lib`\n            current.setAttribute(camelCaseToDashed(cleanAttribute), cleanValue);\n            break;\n        }\n      }\n    }\n  }\n\n  _remeasureMetricsOnActivation: () => void;\n  touchableHandleStartShouldSetResponder?: (\n    e: GestureResponderEvent,\n  ) => boolean;\n  touchableHandleResponderMove?: (e: GestureResponderEvent) => void;\n  touchableHandleResponderGrant?: (e: GestureResponderEvent) => void;\n  touchableHandleResponderRelease?: (e: GestureResponderEvent) => void;\n  touchableHandleResponderTerminate?: (e: GestureResponderEvent) => void;\n  touchableHandleResponderTerminationRequest?: (\n    e: GestureResponderEvent,\n  ) => boolean;\n  constructor(props: P, context: C) {\n    super(props, context);\n\n    // Do not attach touchable mixin handlers if SVG element doesn't have a touchable prop\n    if (hasTouchableProperty(props)) {\n      SvgTouchableMixin(this);\n    }\n\n    this._remeasureMetricsOnActivation = remeasure.bind(this);\n  }\n\n  render(): JSX.Element {\n    if (!this.tag) {\n      throw new Error(\n        'When extending `WebShape` you need to overwrite either `tag` or `render`!',\n      );\n    }\n    this.lastMergedProps = {};\n    return createElement(\n      this.tag,\n      prepare(this, this.prepareProps(this.props)),\n    );\n  }\n}\n\nexport class Circle extends WebShape {\n  tag = 'circle' as const;\n}\n\nexport class ClipPath extends WebShape {\n  tag = 'clipPath' as const;\n}\n\nexport class Defs extends WebShape {\n  tag = 'defs' as const;\n}\n\nexport class Ellipse extends WebShape {\n  tag = 'ellipse' as const;\n}\n\nexport class G extends WebShape<\n  BaseProps & {\n    x?: NumberProp;\n    y?: NumberProp;\n    translate?: string;\n  }\n> {\n  tag = 'g' as const;\n  prepareProps(\n    props: BaseProps & {\n      x?: NumberProp;\n      y?: NumberProp;\n      translate?: string;\n    },\n  ) {\n    const { x, y, ...rest } = props;\n\n    if ((x || y) && !rest.translate) {\n      rest.translate = `${x || 0}, ${y || 0}`;\n    }\n\n    return rest;\n  }\n}\n\nexport class Image extends WebShape {\n  tag = 'image' as const;\n}\n\nexport class Line extends WebShape {\n  tag = 'line' as const;\n}\n\nexport class LinearGradient extends WebShape {\n  tag = 'linearGradient' as const;\n}\n\nexport class Path extends WebShape {\n  tag = 'path' as const;\n}\n\nexport class Polygon extends WebShape {\n  tag = 'polygon' as const;\n}\n\nexport class Polyline extends WebShape {\n  tag = 'polyline' as const;\n}\n\nexport class RadialGradient extends WebShape {\n  tag = 'radialGradient' as const;\n}\n\nexport class Rect extends WebShape {\n  tag = 'rect' as const;\n}\n\nexport class Stop extends WebShape {\n  tag = 'stop' as const;\n}\n\nexport class Svg extends WebShape {\n  tag = 'svg' as const;\n}\n\nexport class Symbol extends WebShape {\n  tag = 'symbol' as const;\n}\n\nexport class Text extends WebShape {\n  tag = 'text' as const;\n}\n\nexport class TSpan extends WebShape {\n  tag = 'tspan' as const;\n}\n\nexport class TextPath extends WebShape {\n  tag = 'textPath' as const;\n}\n\nexport class Use extends WebShape {\n  tag = 'use' as const;\n}\n\nexport class Mask extends WebShape {\n  tag = 'mask' as const;\n}\n\nexport class ForeignObject extends WebShape {\n  tag = 'foreignObject' as const;\n}\n\nexport class Marker extends WebShape {\n  tag = 'marker' as const;\n}\n\nexport class Pattern extends WebShape {\n  tag = 'pattern' as const;\n}\n\nexport default Svg;\n"],"mappings":"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"}